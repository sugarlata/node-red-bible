<script type="text/javascript">
    RED.nodes.registerType('get bg link',{
        category: "provider",
        color: "#E9967A",
        defaults: {
            name: {
                value: ""
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "font-awesome/fa-link",
        label: function() {
            return this.name || "get link"
        }
    });
</script>

<script type="text/html" data-template-name="get bg link">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script id="getBGLink-help" type="text/markdown" data-help-name="get bg link">

Generates a link to biblegateway.com based on book of the bible, chapter, and version.

### Inputs

: payload (object) : Object with keys "book", "chapter", *"version"*

### Outputs

1. Standard Output
: payload (string) : URL for Bible Gateway.

2. Standard Error
: payload (string) : Error Description

### Details

`msg.payload` contains the book, chapter, and version to construct the link. Example:

**Input Example:**

```
msg.payload = {
    "book": "John",
    "chapter": 1,
    "version": "NASB"
}
```

`msg.book`, `msg.chapter`, and `msg.version` can all be used also, but default is `msg.payload` object.

If the version is not set, it defaults to NIV.

**Output Example:**

`msg.payload = "https://www.biblegateway.com/passage/?search=John+1&version=NASB"`

### References

- [Bible Gateway Versions](https://biblegateway.com/versions)
- [GitHub Repo](https://github.com/sugarlata/node-red-contrib-bible-gateway/) - Code Base
- [Issues](https://github.com/sugarlata/node-red-contrib-bible-gateway/issues) - Where to report issues

</script>
